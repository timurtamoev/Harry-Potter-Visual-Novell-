public class GameScenes {
    private static Scene[] endings;

    public static Scene getEnding(int c1, int c2, int c3, int c4) {
        int idx = c1 * 8 + c2 * 4 + c3 * 2 + c4;
        if (endings == null || idx < 0 || idx >= endings.length) return null;
        return endings[idx];
    }

    public static Scene getGameScenes() {
        Scene scene40 = new Scene(
                "Титры",
                new String[]{
                        "Визуал: Золотой снитч пролетает по экрану, превращаясь в надпись: «Конец Части 1».",
                        "Текст: «Заговор раскрыт, но тени остались. Продолжение следует...»"
                },
                "hp_40_snitch.png",
                null, null, null
        );

        Scene scene39 = new Scene(
                "Финальный взгляд",
                new String[]{
                        "Фон: Гарри смотрит в камеру. В его глазах отражается серебряный свет ключа, который остался внутри него.",
                        "Гарри: «Магия не принадлежит им. Она принадлежит нам»."
                },
                "hp_39_final_look.png",
                null, null, scene40
        );

        Scene scene38 = new Scene(
                "Друзья навсегда",
                new String[]{
                        "Фон: Берег озера. Гарри, Рон и Гермиона.",
                        "Рон: «Ну что, в следующем году поймаем настоящего тёмного лорда?»"
                },
                "hp_38_black_lake.png",
                null, null, scene39
        );

        Scene scene37 = new Scene(
                "Последний разговор со Снейпом",
                new String[]{
                        "Снейп: «Вы были храбрее своей матери, Поттер».",
                        "Снейп: «Но теперь вы — цель номер один для всех выживших заговорщиков»."
                },
                "hp_37_snape_talk.png",
                null, null, scene38
        );

        Scene scene36 = new Scene(
                "Возвращение в Хогвартс",
                new String[]{
                        "Фон: Замок на рассвете. Теперь он кажется более свободным.",
                        "Хагрид (свободен, обнимает Гарри): «Я знал, что ты справишься, Гарри!»"
                },
                "hp_36_hogwarts_dawn.png",
                null, null, scene37
        );

        Scene scene35 = new Scene(
                "Дуэль титанов",
                new String[]{
                        "Фон: Дамблдор вынужден защищаться от разгневанных магов.",
                        "Текст: «Я вижу его разочарование. Он искренне верил, что спасает нас»."
                },
                "hp_35_titans_duel.png",
                null, null, scene36
        );

        Scene scene34 = new Scene(
                "Крах заговора",
                new String[]{
                        "Фон: Министр Фадж в панике убегает. Люди срывают перстни-глаза.",
                        "Звуки: Крики возмущённой толпы."
                },
                "hp_34_conspiracy_falls.png",
                null, null, scene35
        );

        Scene scene33 = new Scene(
                "Осколки памяти",
                new String[]{
                        "Фон: Ключ разлетается на тысячи искр, которые впитываются в стены Министерства.",
                        "Текст: «Все маги внезапно видят то, что скрывали десятилетиями»."
                },
                "hp_33_memory_shards.png",
                null, null, scene34
        );

        Scene scene33A = new Scene(
                "Ложный финал",
                new String[]{
                        "Я отдаю ключ — и в зале становится слишком тихо.",
                        "Дамблдор: «Ты станешь героем, Гарри. А о остальном позаботятся взрослые».",
                        "Холод касается мыслей, будто кто-то аккуратно стирает следы.",
                        "Заставка: «Конец?»"
                },
                "hp_33A_false_end.png",
                null, null, scene40
        );

        Scene end0 = new Scene("Союз Малфоя", new String[]{"Драко кивнул: «Мы ещё поговорим.» В его глазах было не предательство — понимание."}, "hp_40_snitch.png", null, null, null);
        Scene end1 = new Scene("Полная правда", new String[]{"Магия не принадлежит им. Она принадлежит нам. И мы только в начале пути."}, "hp_40_snitch.png", null, null, null);
        Scene end2 = new Scene("Тень Снейпа", new String[]{"Снейп исчез той же ночью. Ключ с ним."}, "hp_40_snitch.png", null, null, null);
        Scene end3 = new Scene("Сломанный ключ", new String[]{"Искры погасли. В зале тишина. Все смотрят на меня — кто с надеждой, кто со страхом."}, "hp_40_snitch.png", null, null, null);
        Scene end4 = new Scene("Цена доверия", new String[]{"Драко не смотрел на меня. «Ты мог разбить его.» — «Я испугался.»"}, "hp_40_snitch.png", null, null, null);
        Scene end5 = new Scene("Союз трёх", new String[]{"Рон и Гермиона обняли меня. Драко стоял поодаль, но кивнул. Снейпа уже не было."}, "hp_40_snitch.png", null, null, null);
        Scene end6 = new Scene("Один против всех", new String[]{"Я сделал то, что от меня ждали. Никто не спросил, во что я верю."}, "hp_40_snitch.png", null, null, null);
        Scene end7 = new Scene("Одиночка-победитель", new String[]{"Правда победила. Я никому не сказал, что следующей ночью ухожу из Хогвартса."}, "hp_40_snitch.png", null, null, null);
        Scene end8 = new Scene("Двойной агент", new String[]{"Нас представили как новых героев. За столом напротив — Дамблдор. Он поднял бокал."}, "hp_40_snitch.png", null, null, null);
        Scene end9 = new Scene("Наследник Малфоев", new String[]{"Драко сказал: «Отец назвал меня предателем.» — «Мы сами выбираем, кому верить.»"}, "hp_40_snitch.png", null, null, null);
        Scene end10 = new Scene("Ложный герой", new String[]{"Ты герой, Гарри. Остальное не важно."}, "hp_40_snitch.png", null, null, null);
        Scene end11 = new Scene("Правда Снейпа", new String[]{"Снейп сказал: «Теперь ты свободен. Как и она хотела.» И растворился в толпе."}, "hp_40_snitch.png", null, null, null);
        Scene end12 = new Scene("Цена выбора", new String[]{"Драко и я отдали ключ. Нас объявили героями. Но что-то между нами сломалось."}, "hp_40_snitch.png", null, null, null);
        Scene end13 = new Scene("Дамблдор проигрывает", new String[]{"Дамблдора уводят. Он обернулся: «Ты выбрал свет, Гарри. Не меня.»"}, "hp_40_snitch.png", null, null, null);
        Scene end14 = new Scene("Предатель поневоле", new String[]{"Иногда сдача — это выживание. Но по ночам шрам болит."}, "hp_40_snitch.png", null, null, null);
        Scene end15 = new Scene("Беглец", new String[]{"Моё лицо на каждом плакате. Но ключа у них больше нет."}, "hp_40_snitch.png", null, null, null);
        endings = new Scene[]{end0, end1, end2, end3, end4, end5, end6, end7, end8, end9, end10, end11, end12, end13, end14, end15};

        Scene scene32 = new Scene(
                "Выбор: Финал пути",
                new String[]{
                        "Дамблдор протягивает руку.",
                        "Текст: «Отдай ключ, и ты станешь героем. Откажись — и ты станешь преступником»."
                },
                "hp_30_trap.png",
                new String[]{
                        "Отдать ключ",
                        "Разбить ключ и раскрыть правду всему миру"
                },
                new Scene[]{scene33A, scene33},
                null
        );

        Scene scene31 = new Scene(
                "Битва в Министерстве",
                new String[]{
                        "Фон: Вспышки заклинаний, летящие стеклянные шары.",
                        "Звуки: Громкие взрывы."
                },
                "hp_31_ministry_battle.png",
                null, null, scene32
        );

        Scene scene30 = new Scene(
                "Ловушка Директора",
                new String[]{
                        "Фон: Тёмный зал. В центре стоит Дамблдор. Его глаза больше не добрые.",
                        "Дамблдор: «Иногда ради “Всеобщего блага” нужно пожертвовать одной маленькой правдой, Гарри»."
                },
                "hp_30_trap.png",
                null, null, scene31
        );

        Scene scene29 = new Scene(
                "Зал Пророчеств",
                new String[]{
                        "Фон: Бесконечные полки со стеклянными шарами.",
                        "Текст: «Моё пророчество... оно не о Волдеморте. Оно о падении самой магии под гнётом власти»."
                },
                "hp_29_prophecies.png",
                null, null, scene30
        );

        Scene scene28 = new Scene(
                "Атриум Министерства",
                new String[]{
                        "Фон: Огромный зал, статуя магов. Охранники с перстнями.",
                        "Гарри (в чужом обличье): «Главное — не выдать шрам»."
                },
                "hp_28_ministry_atrium.png",
                null, null, scene29
        );

        Scene scene27 = new Scene(
                "Каминная сеть",
                new String[]{
                        "Фон: Зелёное пламя. Переход из Хогвартса в Лондон.",
                        "Звуки: Свист пламени."
                },
                "hp_27_floo.png",
                null, null, scene28
        );

        Scene scene26 = new Scene(
                "План проникновения",
                new String[]{
                        "Фон: Туалет Плаксы Миртл. Гарри, Рон и Гермиона варят Оборотное зелье.",
                        "Гермиона: «Мы превратимся в чиновников и войдём в отдел Тайн»."
                },
                "hp_26_myrtle.png",
                null, null, scene27
        );

        Scene scene25A = new Scene(
                "Возвращение в замок",
                new String[]{
                        "Фон: Стены замка теперь увешаны плакатами Министерства: «Безопасность прежде всего».",
                        "Звуки: Объявления Амбридж (она здесь как инспектор).",
                        "Драко идёт рядом и тихо шепчет: «В отделе Тайн есть ответы»."
                },
                "hp_25_posters.png",
                null, null, scene26
        );

        Scene scene25B = new Scene(
                "Возвращение в замок",
                new String[]{
                        "Фон: Стены замка теперь увешаны плакатами Министерства: «Безопасность прежде всего».",
                        "Звуки: Объявления Амбридж (она здесь как инспектор).",
                        "Текст: «Мне придётся действовать осторожно. Одному»."
                },
                "hp_25_posters.png",
                null, null, scene26
        );

        Scene scene24 = new Scene(
                "Выбор: Альянс",
                new String[]{
                        "Текст: «Драко Малфой выходит из тени. Он тоже ищет правду».",
                        "Драко: «Объединимся, Поттер? У моего отца есть связи»."
                },
                "hp_24_malfoy.png",
                new String[]{
                        "Объединиться с Малфоем (у него есть связи отца)",
                        "Отказаться и действовать в одиночку"
                },
                new Scene[]{scene25A, scene25B},
                null
        );

        Scene scene23 = new Scene(
                "Голограмма Лили",
                new String[]{
                        "Фон: Призрачный свет, фигура женщины.",
                        "Лили: «Гарри, если ты это видишь, значит, Министерство нашло способ контролировать пророчество».",
                        "Лили: «Не верь печати с глазом»."
                },
                "hp_23_lily.png",
                null, null, scene24
        );

        Scene scene22 = new Scene(
                "Заброшенный алтарь",
                new String[]{
                        "Фон: Древние руны посреди леса.",
                        "Текст: «Ключ вставляется в углубление в камне. Земля дрожит»."
                },
                "hp_22_altar.png",
                null, null, scene23
        );

        Scene scene21 = new Scene(
                "Встреча с кентаврами",
                new String[]{
                        "Персонаж: Фиренце.",
                        "Фиренце: «Звёзды говорят о заговоре, начавшемся ещё до твоего рождения, Поттер».",
                        "Фиренце: «Твои родители знали слишком много»."
                },
                "hp_21_centaur.png",
                null, null, scene22
        );

        Scene scene20 = new Scene(
                "Побег в Запретный лес",
                new String[]{
                        "Фон: Густая чаща, светящиеся глаза пауков.",
                        "Гарри: «Ключ начинает пульсировать. Он указывает дорогу...»"
                },
                "hp_20_forest.png",
                null, null, scene21
        );

        Scene scene19 = new Scene(
                "Магическая дуэль",
                new String[]{
                        "Фон: Гарри против агентов Министерства (в серых мантиях).",
                        "Текст: «Экспеллиармус! Я не отдам им ключ!»"
                },
                "hp_19_duel.png",
                null, null, scene20
        );

        Scene scene18 = new Scene(
                "Появление дементоров",
                new String[]{
                        "Фон: Опушка леса замерзает. Тёмные фигуры в небе.",
                        "Звуки: Пронзительный крик, высасывающий радость."
                },
                "hp_18_dementors.png",
                null, null, scene19
        );

        Scene scene17 = new Scene(
                "Хижина Хагрида",
                new String[]{
                        "Фон: Хижина на опушке Леса. Хагрид плачет, у него на столе — приказ об аресте.",
                        "Хагрид: «Они хотят забрать меня, Гарри! Сказать, что я открыл комнату... но это они!»"
                },
                "hp_17_hagrid_hut.png",
                null, null, scene18
        );

        Scene scene16 = new Scene(
                "Предательство?",
                new String[]{
                        "Фон: Кабинет Дамблдора. Директор смотрит в Омут Памяти.",
                        "Текст: «Я подсмотрел... Дамблдор обсуждал меня с министром магии. Они называли меня “Инструмент №1”»."
                },
                "hp_16_pensieve.png",
                null, null, scene17
        );

        Scene scene15 = new Scene(
                "Разговор с Роном",
                new String[]{
                        "Персонаж: Рон (обеспокоен).",
                        "Рон: «Гарри, ты сам не свой. Ты постоянно смотришь на этот ключ».",
                        "Рон: «Это тёмная магия, я уверен!»"
                },
                "hp_15_common_room.png",
                null, null, scene16
        );

        Scene scene14 = new Scene(
                "Урок Зельеварения",
                new String[]{
                        "Фон: Подземелье, кипящие котлы.",
                        "Текст: «Снейп подбрасывает мне записку: “В полночь у хижины Хагрида. Не бери друзей”»."
                },
                "hp_14_potions.png",
                null, null, scene15
        );

        Scene scene13A = new Scene(
                "Горькая правда",
                new String[]{
                        "Персонаж: Снейп (лицо в тени).",
                        "Снейп: «Ваша мать была частью “Ордена Теней”, Поттер».",
                        "Снейп: «Этот ключ открывает не дверь, а память»."
                },
                "hp_13_snape.png",
                null, null, scene14
        );

        Scene scene13B = new Scene(
                "Побег от Снейпа",
                new String[]{
                        "Я дёргаю мантию-невидимку на плечи и замираю.",
                        "Шаги Снейпа проходят рядом — слишком близко.",
                        "Я ускользаю, но ощущаю: он знает больше, чем сказал."
                },
                "hp_10_forbidden_section.png",
                null, null, scene14
        );

        Scene scene12 = new Scene(
                "Выбор: Доверие",
                new String[]{
                        "Текст: «Внезапно я слышу шаги за углом. Это Снейп!»"
                },
                "hp_10_forbidden_section.png",
                new String[]{
                        "Довериться Снейпу и показать ключ",
                        "Сбежать, используя мантию"
                },
                new Scene[]{scene13A, scene13B},
                null
        );

        Scene scene11 = new Scene(
                "Находка",
                new String[]{
                        "Фон: Книга с вырезанным внутри тайником. Внутри — серебряный ключ.",
                        "Текст: «Ключ холодный как лёд. На нём выгравировано имя: “Лили Поттер”»."
                },
                "hp_11_key.png",
                null, null, scene12
        );

        Scene scene10 = new Scene(
                "Запретная секция",
                new String[]{
                        "Фон: Стеллажи с книгами на цепях. Пыль и лунный свет.",
                        "Текст: «Я должен найти ту книгу, о которой говорилось в письме»."
                },
                "hp_10_forbidden_section.png",
                null, null, scene11
        );

        Scene scene9 = new Scene(
                "Ночная вылазка",
                new String[]{
                        "Фон: Тёмный коридор Хогвартса, портреты спят. Гарри под мантией-невидимкой.",
                        "Звуки: Тихие шаги, мяуканье миссис Норрис."
                },
                "hp_09_hogwarts_corridor.png",
                null, null, scene10
        );

        Scene scene8 = new Scene(
                "Банкет",
                new String[]{
                        "Фон: Столы с едой. Дамблдор встаёт для речи.",
                        "Звуки: Звон кубков.",
                        "Текст: «Я смотрю на директора. На его пальце... точно такой же перстень-глаз, как у незнакомца в поезде!»"
                },
                "hp_08_banquet.png",
                null, null, scene9
        );

        Scene scene7 = new Scene(
                "Распределение",
                new String[]{
                        "Фон: Большой зал, свечи в воздухе. Распределяющая шляпа.",
                        "Персонаж: Профессор Макгонагалл (строгая).",
                        "Шляпа шепчет: «Хм... ты мог бы стать великим в Слизерине, но в твоей голове есть мысли, которые не принадлежат тебе...»"
                },
                "hp_07_sorting.png",
                null, null, scene8
        );

        Scene scene6 = new Scene(
                "Прибытие в замок",
                new String[]{
                        "Фон: Величественный замок Хогвартс ночью, освещённый факелами.",
                        "Звуки: Плеск воды (лодки).",
                        "Гарри (мысли): «Заговор? В школе магии? Это кажется безумием... или нет?»"
                },
                "hp_06_arrival.png",
                null, null, scene7
        );

        Scene scene5B = new Scene(
                "Спрятанный конверт",
                new String[]{
                        "Я прячу конверт в чемодан и делаю вид, что всё в порядке.",
                        "Но в голове крутится одна мысль: кто оставил его — и зачем?"
                },
                "hp_03_stranger.png",
                null, null, scene6
        );

        Scene scene5A = new Scene(
                "Тайный шифр",
                new String[]{
                        "Фон: Крупный план письма. Буквы горят синим пламенем.",
                        "Текст: «Там написано: “Дамблдор — не тот, кем кажется. Ищи серебряный ключ в библиотеке”»."
                },
                "hp_05A_cipher.png",
                null, null, scene6
        );

        Scene scene4 = new Scene(
                "Выбор: Риск",
                new String[]{
                        "Текст: «Рон говорит не трогать его. Гермиона тянется к палочке»."
                },
                "hp_02_compartment.png",
                new String[]{
                        "Открыть конверт немедленно",
                        "Спрятать его в чемодан и подождать"
                },
                new Scene[]{scene5A, scene5B},
                null
        );

        Scene scene3 = new Scene(
                "Незваный гость",
                new String[]{
                        "Фон: Дверь купе медленно открывается.",
                        "Персонаж: Незнакомец (высокий, в маске; виден перстень с печаткой в виде змеиного глаза).",
                        "Звуки: Стук колёс затихает, становится холодно.",
                        "Текст: «Он ничего не сказал. Просто оставил на сиденье чёрный конверт с золотой печатью»."
                },
                "hp_03_stranger.png",
                null, null, scene4
        );

        Scene scene2 = new Scene(
                "Купе поезда",
                new String[]{
                        "Фон: Уютное купе с бархатными сиденьями. За окном мелькают поля.",
                        "Персонажи: Рон (сэндвич в руках), Гермиона (в дверях).",
                        "Текст: «Я встретил Рона и Гермиону. Но странно... Гермиона читает книгу “Тайная иерархия Британии”, которой нет в списке учебников»."
                },
                "hp_02_compartment.png",
                null, null, scene3
        );

        Scene scene1 = new Scene(
                "Платформа 9 и 3/4",
                new String[]{
                        "Фон: Окутанный паром вокзал, красный паровоз, толпа магов.",
                        "Персонаж: Гарри (растерянный, с совой).",
                        "Звуки: Гул толпы, свисток поезда.",
                        "Текст: «Хагрид исчез, сказав, что у него “срочное дело”. Я один на этой платформе. Но почему те двое в серых мантиях так пристально смотрят на мой шрам?»"
                },
                "hp_01_platform.png",
                null, null, scene2
        );

        return scene1;
    }
}